# 크리스마스

## 구현 목록

### 1. 구현 순서

1. 입력 단계

   - 방문 날짜
   - 주문 메뉴와 개수

2. 계산 단계

   주문 개수
   : 할인 전 총 금액 -> 샴페인 증정 여부 / 이벤트 적용 여부

   방문 날짜 + 주문 메뉴
   : 혜택 내역 -> 총혜택 금액(샴페인 포함)

   할인 후 예상 결제 금액
   : 할인 전 총 금액 - 총혜택 금액(샴페인은 계산에 포함하면 안 됨)

   배지
   : 총혜택 금액에 따른 여부

### 2. 데이터 저장할 항목들이 뭐가 있는지

1. 메뉴 카테고리와 가격 - `MenuPrices`
2. 배지 - `Badge`

### 3. 할인 담당 - `DiscountManager`

- 필요한 변수들

  1.  총 합계
  2.  discounts rule 담은 객체
  3.  샴페인 프로모션 객체
  4.  discounts rule에 따라 적용된 가격을 담은 객체

- discounts rule

  1.  크리스마스 디데이
  2.  weekday (평일 할인), weekend (주말 할인)
      (weekday와 weekend는 묶어서 갈지 나눌지 고민..)
  3.  특별 할인

      ```js
      dates: [적용되는 요일] or {적용되는 요일 범위}
      menuCategory: '적용되는 메뉴 카테고리'
      discountAmount: 할인 가격
      ```

  4.  샴페인 프로모션

      ```js
      조건, 리워드, 할인 가격
      ```

### 4. 주문 담당 - `OrderManager`

### 5. UI - `inputView`, `outputView`

- `inputView` : 재입력 - `inputWithRetry`

---

- [ ] 도메인, 서비스 단위로 객체 분리하기
- [ ] 20개 체크, 10000원 이상일 때

---

### 5. 예외 상황

1. 방문 날짜

   ```md
   - 1 ~ 31 숫자만 입력한다.
   - [에러 처리] 문자가 들어갈 경우 (ex. '-3', '3,4' 등..)
   - [에러 처리] 공백이 들어간 경우.. 숫자니까 허용? (ex. ' 1', '1 ' 등..)
   ```

2. 메뉴와 개수

   2.1 입력 받은 후 검증

   ```md
   - [에러 처리] 메뉴포멧에부합하지않은것거르기01
   - [에러 처리] 숫자는최소1부터-0
   - [에러 처리] 중복메뉴-1,중복메뉴-2
   - [에러 처리] 입력 형식이 예시와 다른 경우..
   ```

   2.2 검증된 메뉴에 대한 검증

   ```md
   - 메뉴판에 있는 메뉴인지 확인
   - [에러 처리] 음료수만 시킨 경우
   ```

3. 금액 계산 유의 사항
   3.1 <총혜택 금액>: 적용된 할인 금액과 증정 메뉴(샴페인 가격까지) 포함
   3.2 <할인 후 예상 결제 금액>: 샴페인 가격은 제외한 할인 금액들만

4. '없음' or '0원' 기본값 체크하기

---

[양식]

```Js
안녕하세요! 우테코 식당 12월 이벤트 플래너입니다.
12월 중 식당 예상 방문 날짜는 언제인가요? (숫자만 입력해 주세요!)
3
주문하실 메뉴를 메뉴와 개수를 알려 주세요. (e.g. 해산물파스타-2,레드와인-1,초코케이크-1)
티본스테이크-1,바비큐립-1,초코케이크-2,제로콜라-1
12월 3일에 우테코 식당에서 받을 이벤트 혜택 미리 보기!


<주문 메뉴>
티본스테이크 1개
바비큐립 1개
초코케이크 2개
제로콜라 1개

<할인 전 총주문 금액>
142,000원

<증정 메뉴>
샴페인 1개 혹은 없음

<혜택 내역>
크리스마스 디데이 할인: -1,200원
평일 할인: -4,046원
특별 할인: -1,000원
증정 이벤트: -25,000원

혹은 없음

<총혜택 금액>
-31,246원 혹은 0원 // 혜택 금액은 증정 이벤트 금액까지 포함

<할인 후 예상 결제 금액>
135,754원 // 할인 금액은 증정 이벤트 금액 제외!

<12월 이벤트 배지>
산타 혹은 없음
```
